'use strict';

var _getPackageJsonFromRegistry = require('get-package-json-from-registry');

var _getPackageJsonFromRegistry2 = _interopRequireDefault(_getPackageJsonFromRegistry);

var _getPackageJsonFromGithub = require('get-package-json-from-github');

var _getPackageJsonFromGithub2 = _interopRequireDefault(_getPackageJsonFromGithub);

var _npmPackageArg = require('npm-package-arg');

var _npmPackageArg2 = _interopRequireDefault(_npmPackageArg);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

module.exports = function (arg) {
  var parsed = (0, _npmPackageArg2.default)(arg);
  return parsed.hosted ? (0, _getPackageJsonFromGithub2.default)(arg) : (0, _getPackageJsonFromRegistry2.default)(arg);
};

module.exports.cached = function () {
  var cachedGithub = _getPackageJsonFromGithub2.default.cached();
  var cachedRegistry = _getPackageJsonFromRegistry2.default.cached();

  return function (arg) {
    var parsed = (0, _npmPackageArg2.default)(arg);
    return parsed.hosted ? cachedGithub(arg) : cachedRegistry(arg);
  };
};